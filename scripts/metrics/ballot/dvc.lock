schema: '2.0'
stages:
  extract:
    cmd: PYTHONPATH=scripts python3 scripts/metrics/ballot/extract.py
    deps:
    - path: data/reference/postcodes.csv
      md5: 3c332ace66b28524c0a710fca1a4b1c0
      size: 76072682
    - path: scripts/metrics/ballot/process.py
      md5: 3d129afbd5414fb3390205597ef14881
      size: 2937
    outs:
    - path: working/ballot/
      md5: 2769bcb8857f55b67795e49b5320f82b.dir
      size: 184272
      nfiles: 2
  transform:
    cmd: PYTHONPATH=scripts python3 scripts/metrics/ballot/process.py
    deps:
    - path: data/reference/postcodes.csv
      md5: 3c332ace66b28524c0a710fca1a4b1c0
      size: 76072682
    - path: scripts/metrics/ballot/process.py
      md5: 3d129afbd5414fb3390205597ef14881
      size: 2937
    - path: working/ballot/
      md5: 2769bcb8857f55b67795e49b5320f82b.dir
      size: 184272
      nfiles: 2
    outs:
    - path: data/metrics/ballot/
      md5: 530aa1292bb1d99472790ab76152c573.dir
      size: 148284
      nfiles: 2
  prepare:
    cmd: PYTHONPATH=scripts python3 scripts/metrics/ballot/summarize.py
    deps:
    - path: data/metrics/ballot/
      md5: 530aa1292bb1d99472790ab76152c573.dir
      size: 148284
      nfiles: 2
    - path: scripts/metrics/ballot/summarize.py
      md5: 4c5ff5f5c7b6322e072048da5c005f65
      size: 3664
    outs:
    - path: docs/_data/metrics/ballot/
      md5: 33b7f041d9a8305c4551eda1923d3611.dir
      size: 8733
      nfiles: 7
