schema: '2.0'
stages:
  prepare_events:
    cmd: PYTHONPATH=scripts/ python3 scripts/dashboard/community/events.py
    deps:
    - path: data/metrics/roadshows/attendance.csv
      hash: md5
      md5: 79c0a79fcc6634d13321b4fa4db9ce20
      size: 1353
    - path: docs/_data/metrics/mwmcmn/celeb_event_by_ward.csv
      hash: md5
      md5: db4113d3ce3ebaba57437389ce5285e6
      size: 950
    - path: docs/metrics/events/my-leeds-2023/_data/events/by_ward.csv
      hash: md5
      md5: 21e2d3743e66c20fa1f348baa7e7aca8
      size: 631
    - path: docs/metrics/events/partner/_data/by_ward.csv
      hash: md5
      md5: a6a71cc67f101e4811f430a74325031b
      size: 189
    - path: docs/metrics/events/the-barn/_data/events/by_ward.csv
      hash: md5
      md5: 07dfe1d2b9a3fff3d3efa8bea55b4543
      size: 132
    - path: docs/metrics/schools/_data/engagements_by_ward.csv
      hash: md5
      md5: e7b3af50fa968245cc5c3b89e596652f
      size: 1549
    - path: scripts/dashboard/community/events.py
      hash: md5
      md5: 71b151a8b3ebd10d1fe5b93aefa53a80
      size: 2604
    outs:
    - path: docs/dashboard/community/_data/events.csv
      hash: md5
      md5: 4f33c64e9607d4a8510384bf4c30b183
      size: 1647
    - path: docs/dashboard/community/_data/events_with_schools.csv
      hash: md5
      md5: bd11eb5d7bd2b03e77d356a1a2ed400f
      size: 1762
  prepare_residents:
    cmd: PYTHONPATH=scripts/ python3 scripts/dashboard/community/residents.py
    deps:
    - path: data/metrics/ballot/ballot_entries.csv
      hash: md5
      md5: 147095349ae8c64739c89bcd81730d87
      size: 146654
    - path: data/metrics/events/awakening/attendees.csv
      hash: md5
      md5: 5c01f5e00fd791cc1b3e2540e4147381
      size: 52939
    - path: data/metrics/volunteers/volunteers.csv
      hash: md5
      md5: ff7ec21206b160461f51ab2ae373b20a
      size: 245289
    - path: data/reference/leeds_wards.csv
      hash: md5
      md5: 887a42d46d34c9e966211a79f2b8a672
      size: 1035
    - path: docs/metrics/roadshow-attendees/_data/by_ward.csv
      hash: md5
      md5: a6c1eabb3c8da4db2c07cc46d07eb70f
      size: 1517
    - path: docs/metrics/schools/_data/engagements_by_ward.csv
      hash: md5
      md5: e7b3af50fa968245cc5c3b89e596652f
      size: 1549
    - path: scripts/dashboard/community/residents.py
      hash: md5
      md5: 1b200fe8973b6409180b916241fc817c
      size: 3475
    outs:
    - path: docs/dashboard/community/_data/residents.csv
      hash: md5
      md5: c440adb3b24ed55cdb6066607fac2276
      size: 1741
    - path: docs/dashboard/community/_data/residents_with_schools.csv
      hash: md5
      md5: e8eb604e7c5299bd26ffc1c66d67b77b
      size: 1915
