schema: '2.0'
stages:
  prepare_events:
    cmd: PYTHONPATH=scripts/ python3 scripts/dashboard/community/events.py
    deps:
    - path: data/metrics/roadshows/attendance.csv
      md5: 79c0a79fcc6634d13321b4fa4db9ce20
      size: 1353
    - path: docs/_data/metrics/mwmcmn/celeb_event_by_ward.csv
      md5: db4113d3ce3ebaba57437389ce5285e6
      size: 950
    - path: docs/metrics/schools/_data/engagements_by_ward.csv
      md5: 181bcdd9b6e4823e2e0d0bd618fa8e46
      size: 1494
    - path: scripts/dashboard/community/events.py
      md5: e167c98657d83f1a0b33964b201ffb2d
      size: 2051
    outs:
    - path: docs/dashboard/community/_data/events.csv
      md5: 2a959c9b6fe9d366c507d062c8ae1f72
      size: 1294
    - path: docs/dashboard/community/_data/events_with_schools.csv
      md5: fe9fe5c124758a9cfc98e32e7e5dafb1
      size: 1389
  prepare_residents:
    cmd: PYTHONPATH=scripts/ python3 scripts/dashboard/community/residents.py
    deps:
    - path: data/metrics/ballot/ballot_entries.csv
      md5: 147095349ae8c64739c89bcd81730d87
      size: 146654
    - path: data/metrics/events/awakening/attendees.csv
      md5: 5c01f5e00fd791cc1b3e2540e4147381
      size: 52939
    - path: data/metrics/volunteers/volunteers.csv
      md5: 566044f1efab097d10f70eeed250394a
      size: 196520
    - path: data/reference/leeds_wards.csv
      md5: 887a42d46d34c9e966211a79f2b8a672
      size: 1035
    - path: docs/metrics/roadshow-attendees/_data/by_ward.csv
      md5: a6c1eabb3c8da4db2c07cc46d07eb70f
      size: 1517
    - path: docs/metrics/schools/_data/engagements_by_ward.csv
      md5: 181bcdd9b6e4823e2e0d0bd618fa8e46
      size: 1494
    - path: scripts/dashboard/community/residents.py
      md5: dc3bed71f6ef664f829b1727991e5377
      size: 2849
    outs:
    - path: docs/dashboard/community/_data/residents.csv
      md5: fee78e44cd40d84c236f95ee513d97b6
      size: 1484
    - path: docs/dashboard/community/_data/residents_with_schools.csv
      md5: a453b9c7a2abc4fa278c64a3c89dbbbc
      size: 1627
