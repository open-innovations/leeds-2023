schema: '2.0'
stages:
  transform:
    cmd: papermill ingest-cision.ipynb ../../../working/output/media-ingest-cision.ipynb
    deps:
    - path: ../../../working/manual/media/
      hash: md5
      md5: d81da7fa917209fdebbba79cabf126c4.dir
      size: 1232199
      nfiles: 38
    - path: cision.py
      hash: md5
      md5: b366730cdf20c01bf72dc9de98a230e1
      size: 4384
    - path: ingest-cision.ipynb
      hash: md5
      md5: a13d6739137b1272a24bb3fd8f44b5c0
      size: 18637
    outs:
    - path: ../../../data/metrics/media_coverage/combined_cision.csv
      hash: md5
      md5: 6b9bf16e120d5e064c6e0f3da8dcbe29
      size: 483153
  transform_historic:
    cmd: PYTHONPATH=scripts python3 scripts/metrics/media/combine_historic.py
    deps:
    - path: scripts/metrics/media/combine_historic.py
      md5: ff6c2ea8554040f3f2fc10f23b109b91
      size: 2586
    - path: working/manual/media/
      hash: md5
      md5: d81da7fa917209fdebbba79cabf126c4.dir
      size: 1232199
      nfiles: 38
    outs:
    - path: data/metrics/media_coverage/combined_historic.csv
      md5: 2075d0be6cc9d6325fb589b3cdab43c8
      size: 66475
  prepare:
    cmd: PYTHONPATH=scripts python3 scripts/metrics/media/process.py
    deps:
    - path: data/metrics/media_coverage/combined_cision.csv
      hash: md5
      md5: 6b9bf16e120d5e064c6e0f3da8dcbe29
      size: 483153
    - path: data/metrics/media_coverage/combined_historic.csv
      md5: 2075d0be6cc9d6325fb589b3cdab43c8
      size: 66475
    - path: scripts/metrics/media/process.py
      md5: 5dc725ce0b598f36235ed0d79eaf4579
      size: 3573
    outs:
    - path: docs/metrics/media_coverage/_data/medium_count.csv
      hash: md5
      md5: 509952be866dc0d0962dd5926b70eb6a
      size: 59
    - path: docs/metrics/media_coverage/_data/monthly_count.csv
      hash: md5
      md5: f7a6854b2aea99154e79d5133abeb919
      size: 810
    - path: docs/metrics/media_coverage/_data/outlet_count.csv
      hash: md5
      md5: abd14dd84025c3aecae5c02b211fe1c1
      size: 171
