schema: '2.0'
stages:
  transform:
    cmd: papermill ingest-cision.ipynb ../../../working/output/media-ingest-cision.ipynb
    deps:
    - path: ../../../working/manual/media/
      hash: md5
      md5: 1afab0e4b6da22aae9648cab8a3034f5.dir
      size: 1288570
      nfiles: 41
    - path: cision.py
      hash: md5
      md5: 6d32d7a0fbda4e831a9b39380b0c0494
      size: 4401
    - path: ingest-cision.ipynb
      hash: md5
      md5: 59e80150138b9d724302846c5e87bc40
      size: 138380
    outs:
    - path: ../../../data/metrics/media_coverage/combined_cision.csv
      hash: md5
      md5: c9d0d8a617b32c5c723660bb05494a80
      size: 589013
  transform_historic:
    cmd: PYTHONPATH=scripts python3 scripts/metrics/media/combine_historic.py
    deps:
    - path: scripts/metrics/media/combine_historic.py
      md5: ff6c2ea8554040f3f2fc10f23b109b91
      size: 2586
    - path: working/manual/media/
      hash: md5
      md5: 1afab0e4b6da22aae9648cab8a3034f5.dir
      size: 1288570
      nfiles: 41
    outs:
    - path: data/metrics/media_coverage/combined_historic.csv
      md5: 2075d0be6cc9d6325fb589b3cdab43c8
      size: 66475
  prepare:
    cmd: PYTHONPATH=scripts python3 scripts/metrics/media/process.py
    deps:
    - path: data/metrics/media_coverage/combined_cision.csv
      hash: md5
      md5: c9d0d8a617b32c5c723660bb05494a80
      size: 589013
    - path: data/metrics/media_coverage/combined_historic.csv
      md5: 2075d0be6cc9d6325fb589b3cdab43c8
      size: 66475
    - path: scripts/metrics/media/process.py
      hash: md5
      md5: 1a7f68e5387b79809873ab1da5912a15
      size: 3573
    outs:
    - path: docs/metrics/media_coverage/_data/medium_count.csv
      hash: md5
      md5: e15ff2e8c50ef981ba2a3f7421ae968c
      size: 79
    - path: docs/metrics/media_coverage/_data/monthly_count.csv
      hash: md5
      md5: 239f25dda4c5de10971eed45f440464f
      size: 904
    - path: docs/metrics/media_coverage/_data/outlet_count.csv
      hash: md5
      md5: 6ad93105c222f57ccb7eab2036ab6794
      size: 171
